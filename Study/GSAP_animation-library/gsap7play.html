<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>GSAP 7</title>
        <style>
            .rect {
                margin: 100px;
                width: 100px;
                height: 100px;
                background-color: #000000;
            }
        </style>
    </head>
    <body>
        <button>Animation</button>
        <div class="rect"></div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.3/gsap.min.js"></script>
        <script>
            const rect = document.querySelector(".rect");
            const btn = document.querySelector("button");
            const timeline = new TimelineMax({
                repeat: -1,
                yoyo: true,
                repeatDelay: 1,
                onStart: () => console.log("start"),
                paused: false,
                delay: 0,
            });

            timeline
                .to(rect, 1, { x: "+=200" })
                .to(rect, 1, { y: 200 })
                .add("half")
                .to(rect, 1, { x: "-=200" })
                .to(rect, 1, { y: 0 })
                .to(rect, 1, { backgroundColor: "red" }, "half");

            btn.addEventListener("click", () => {
                console.log(timeline.paused());

                if (timeline.paused()) {
                    timeline.resume();
                } else {
                    timeline.pause();
                }
            });
        </script>
    </body>
</html>
